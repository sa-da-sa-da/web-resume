import{u as e,y as s,_ as t}from"./resume.ae18fbda.js";import{d as a,r,l as o,m as n,_ as u,n as l,w as c,a as i,c as d,p as m,u as p,o as w,q as v,s as f,f as y,j as k,k as j,e as g,b as x}from"./app.3e7d6b38.js";function b(){return new Worker("/assets/editor.worker.169dec86.js",{type:"module"})}function h(){return new Worker("/assets/json.worker.5193021d.js",{type:"module"})}function W(){return new Worker("/assets/css.worker.f3a8505e.js",{type:"module"})}function _(){return new Worker("/assets/html.worker.5f1bb4d6.js",{type:"module"})}function T(){return new Worker("/assets/ts.worker.f248e33a.js",{type:"module"})}var E=a({props:{text:{type:String,default:"// 在线使用 yaml 编辑你的简历"}},setup(e){const s=e;let t;const a=r();let m;self.MonacoEnvironment={getWorker:(e,s)=>"json"===s?new h:"css"===s||"scss"===s||"less"===s?new W:"html"===s||"handlebars"===s||"razor"===s?new _:"typescript"===s||"javascript"===s?new T:new b};const p=o("updateResumeTxt");return n((async()=>{if("undefined"!=typeof window&&(t=await u((()=>import("./editor.main.8c5d7c9a.js").then((function(e){return e.b}))),["assets/editor.main.8c5d7c9a.js","assets/editor.main.c3609f7b.css","assets/editorWorker.268eb847.js","assets/app.3e7d6b38.js","assets/app.7879fc1b.css"])),a.value){m=t.editor.create(a.value,{value:s.text,language:"yaml",theme:l.value?"vs-dark":"vs",wordWrap:"on"});const e=async()=>{var s;m||(console.log("等待编辑器初始化..."),await(s=200,new Promise((e=>setTimeout((()=>e(!0)),s)))),e())};await e(),console.log("monaco-editor 初始化完成"),console.log("props.text",s.text),null==m||m.setValue(s.text||""),m.onDidChangeModelContent((e=>{p(m.getValue())}))}})),c(l,(e=>{t.editor.setTheme(e?"vs-dark":"vs")})),(e,s)=>(i(),d("div",{id:"editor-container",ref:a},null,512))}});const R={class:"editor-page text-center"},V={class:"preview-container"},q={class:"resume-container"},C={class:"editor-container"};var D=a({setup(a){m();const o=p(),n=r("");w((async()=>{const s=await e(o.query.url);n.value=s}));v("updateResumeTxt",(e=>{n.value=e}));const u=f((()=>(console.log(s.load(n.value)),s.load(n.value))));return(e,s)=>{const a=t,r=E;return i(),d("div",R,[y("div",V,[y("div",q,[k(u)?(i(),j(a,{key:0,resume:k(u)},null,8,["resume"])):g("",!0)]),y("div",C,[x(r,{text:n.value},null,8,["text"])])])])}}});export{D as default};
